<h2>Metadata Field Guide</h2>
<div class="field-guide-intro">
  <p>
    This is a dynamically generated guide to the metadata used in this application.
    You can download a CSV template with the headers required to describe and import
    your own collections.  Download the template and use the field descriptions below to help
    guide filling out the import manifest for works and collections you would like
    to import into your repository.
  </p>

  <p><a class="btn btn-primary btn-lg" id="import_template" href=<%= importer_documentation_csv_path %> data-turbolinks="false" ><span class="glyphicon glyphicon-save-file" aria-hidden="true"></span> Template for New Imports</a></p>

  <p>
    Some fields can accept multiple values. To include multiple values in a single CSV cell,
    separate them with the delimiter that has been configured for this application:
    <span class="delimiter"><%= @delimiter %></span>
  </p>
  <p>
    Example:   <span class="delimiter">Value 1<%= @delimiter %>Value 2</span>
  </p>
</div>

<div class="guide-container">
  <div class="metadata-field-guide">
    <% @details.each do |detail| %>
      <div class="metadata-field <%= system_field(detail) %>" <%= hide_system_field(detail) %>>
        <h3 class="field-label">
          <%= detail[:label] %>
        </h3>
        <div>
          <b>Attribute:</b>
          <%= detail[:attribute] %>
        </div>
        <div>
          <b>Predicate:</b>
          <a href="<%= detail[:predicate] %>"><%= detail[:predicate] %></a>
        </div>
        <div>
          <b>Type:</b>
          <%= detail[:type] %>
        </div>
        <div>
          <b>Validation:</b>
          <%= detail[:validator] %>
        </div>
        <div>
          <b>Multiple values accepted:</b>
          <%= true_false_to_yes_no(detail[:multiple]) %>
        </div>
        <div>
          <b>Edit Form Label:</b>
          <%= detail[:label] %>
        </div>
        <div>
          <b>Import header:</b>
          <span class=<%= css_class(detail[:csv_header])%>>
            <%= detail[:csv_header] %>
          </span>
        </div>
        <div>
          <b>Required on Edit Form:</b>
          <%= true_false_to_yes_no(detail[:required_on_form]) %>
        </div>
        <div class=metadata_usage>
          <b>Usage:</b>
          <%= detail[:usage] %>
        </div>
      </div>
    <% end  %>
  </div>
</div>
